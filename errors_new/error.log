[2025-08-14T01:22:03.023Z] ERROR: Error:
[BOOT] ❌ A critical error occurred during initialization:
Stack: Error:
[BOOT] ❌ A critical error occurred during initialization:
    at Object.fatal (/app/src/events/logger.js:165:27)
    at /app/src/index.js:238:12
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
Metadata: {}
[2025-08-14T09:16:03.427Z] ERROR: Error: DatabaseCache initialization failed: Database connection timeout
Stack: Error: DatabaseCache initialization failed: Database connection timeout
    at Object.error (/app/src/events/logger.js:152:27)
    at DatabaseCache.initialize (/app/src/core/cache/adapters/DatabaseCache.js:22:20)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
Metadata: {}

[2025-08-14T09:16:03.428Z] ERROR: Error: [StatusProcessor] Processing failed
Stack: Error: [StatusProcessor] Processing failed
    at Object.error (/app/src/events/logger.js:152:27)
    at StatusProcessor.processRawAPIData (/app/src/core/status/utils/StatusProcessor.js:106:14)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async MetroCore.initialize (/app/src/core/metro/core/MetroCore.js:221:13)
    at async /app/src/core/metro/core/MetroCore.js:165:13
    at async /app/src/index.js:181:23
Metadata: {
  "error": "Database connection timeout",
  "stack": "Error: Database connection timeout\n    at Timeout._onTimeout (/app/src/core/database/DatabaseManager.js:282:32)\n    at listOnTimeout (node:internal/timers:588:17)\n    at process.processTimers (node:internal/timers:523:7)"
}

[2025-08-14T09:16:03.428Z] ERROR: Error: [StatusProcessor] Processing failed
Stack: Error: [StatusProcessor] Processing failed
    at Object.error (/app/src/events/logger.js:152:27)
    at StatusProcessor.processRawAPIData (/app/src/core/status/utils/StatusProcessor.js:106:14)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async DataEngine.handleRawData (/app/src/core/metro/core/internal/DataEngine.js:21:35)
Metadata: {
  "error": "Database connection timeout",
  "stack": "Error: Database connection timeout\n    at Timeout._onTimeout (/app/src/core/database/DatabaseManager.js:282:32)\n    at listOnTimeout (node:internal/timers:588:17)\n    at process.processTimers (node:internal/timers:523:7)"
}

[2025-08-14T09:18:29.462Z] ERROR: Error: DatabaseCache initialization failed: Database connection timeout
Stack: Error: DatabaseCache initialization failed: Database connection timeout
    at Object.error (/app/src/events/logger.js:152:27)
    at DatabaseCache.initialize (/app/src/core/cache/adapters/DatabaseCache.js:22:20)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
Metadata: {}

[2025-08-14T09:18:29.463Z] ERROR: Error: [StatusProcessor] Processing failed
Stack: Error: [StatusProcessor] Processing failed
    at Object.error (/app/src/events/logger.js:152:27)
    at StatusProcessor.processRawAPIData (/app/src/core/status/utils/StatusProcessor.js:106:14)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async MetroCore.initialize (/app/src/core/metro/core/MetroCore.js:221:13)
    at async /app/src/core/metro/core/MetroCore.js:165:13
    at async /app/src/index.js:188:23
Metadata: {
  "error": "Database connection timeout",
  "stack": "Error: Database connection timeout\n    at Timeout._onTimeout (/app/src/core/database/DatabaseManager.js:282:32)\n    at listOnTimeout (node:internal/timers:588:17)\n    at process.processTimers (node:internal/timers:523:7)"
}

[2025-08-14T09:18:29.463Z] ERROR: Error: [StatusProcessor] Processing failed
Stack: Error: [StatusProcessor] Processing failed
    at Object.error (/app/src/events/logger.js:152:27)
    at StatusProcessor.processRawAPIData (/app/src/core/status/utils/StatusProcessor.js:106:14)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async DataEngine.handleRawData (/app/src/core/metro/core/internal/DataEngine.js:21:35)
Metadata: {
  "error": "Database connection timeout",
  "stack": "Error: Database connection timeout\n    at Timeout._onTimeout (/app/src/core/database/DatabaseManager.js:282:32)\n    at listOnTimeout (node:internal/timers:588:17)\n    at process.processTimers (node:internal/timers:523:7)"
}
[2025-08-14T12:26:14.254Z] ERROR: Error: [StatusProcessor] Processing failed
Stack: Error: [StatusProcessor] Processing failed
    at Object.error (/app/src/events/logger.js:152:27)
    at StatusProcessor.processRawAPIData (/app/src/core/status/utils/StatusProcessor.js:106:14)
    at DataEngine.handleRawData (/app/src/core/metro/core/internal/DataEngine.js:33:80)
    at ApiService.fetchNetworkStatus (/app/src/core/metro/core/services/ApiService.js:494:52)
Metadata: {
  "error": "Cannot read properties of undefined (reading 'toString')",
  "stack": "TypeError: Cannot read properties of undefined (reading 'toString')\n    at /app/src/core/status/utils/StatusProcessor.js:285:42\n    at Array.forEach (<anonymous>)\n    at StatusProcessor._transformNetworkStatus (/app/src/core/status/utils/StatusProcessor.js:283:29)\n    at StatusProcessor.processRawAPIData (/app/src/core/status/utils/StatusProcessor.js:74:28)\n    at DataEngine.handleRawData (/app/src/core/metro/core/internal/DataEngine.js:33:80)\n    at ApiService.fetchNetworkStatus (/app/src/core/metro/core/services/ApiService.js:494:52)"
}

[2025-08-14T12:26:14.270Z] ERROR: Error: [StatusProcessor] Processing failed
Stack: Error: [StatusProcessor] Processing failed
    at Object.error (/app/src/events/logger.js:152:27)
    at StatusProcessor.processRawAPIData (/app/src/core/status/utils/StatusProcessor.js:106:14)
    at DataEngine.handleRawData (/app/src/core/metro/core/internal/DataEngine.js:33:80)
    at ApiService.<anonymous> (/app/src/core/metro/core/internal/EventEngine.js:47:24)
    at ApiService.emit (node:events:518:28)
    at ApiService._emitRawData (/app/src/core/metro/core/services/ApiService.js:808:14)
    at ApiService._updateState (/app/src/core/metro/core/services/ApiService.js:765:14)
    at ApiService._fallbackToCachedData (/app/src/core/metro/core/services/ApiService.js:1017:18)
Metadata: {
  "error": "Cannot read properties of undefined (reading 'toString')",
  "stack": "TypeError: Cannot read properties of undefined (reading 'toString')\n    at /app/src/core/status/utils/StatusProcessor.js:285:42\n    at Array.forEach (<anonymous>)\n    at StatusProcessor._transformNetworkStatus (/app/src/core/status/utils/StatusProcessor.js:283:29)\n    at StatusProcessor.processRawAPIData (/app/src/core/status/utils/StatusProcessor.js:74:28)\n    at DataEngine.handleRawData (/app/src/core/metro/core/internal/DataEngine.js:33:80)\n    at ApiService.<anonymous> (/app/src/core/metro/core/internal/EventEngine.js:47:24)\n    at ApiService.emit (node:events:518:28)\n    at ApiService._emitRawData (/app/src/core/metro/core/services/ApiService.js:808:14)\n    at ApiService._updateState (/app/src/core/metro/core/services/ApiService.js:765:14)\n    at ApiService._fallbackToCachedData (/app/src/core/metro/core/services/ApiService.js:1017:18)"
}

[2025-08-14T12:26:14.293Z] ERROR: Error: [StatusProcessor] Database update failed
Stack: Error: [StatusProcessor] Database update failed
    at Object.error (/app/src/events/logger.js:152:27)
    at StatusProcessor._updateDatabase (/app/src/core/status/utils/StatusProcessor.js:254:14)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async StatusProcessor.processRawAPIData (/app/src/core/status/utils/StatusProcessor.js:102:7)
Metadata: {
  "error": "(conn:162, no: 1452, SQLState: 23000) Cannot add or update a child row: a foreign key constraint fails (`MetroDB`.`metro_stations`, CONSTRAINT `metro_stations_ibfk_1` FOREIGN KEY (`line_id`) REFERENCES `metro_lines` (`line_id`))\nsql: INSERT INTO metro_stations (line_id, station_code, station_name, display_name, location,\n                                        transports, services, accessibility, commerce, amenities, image_url, access_details)\n               VALUES (?, ?, ?, ?, POINT(0...",
  "stack": "SqlError: (conn:162, no: 1452, SQLState: 23000) Cannot add or update a child row: a foreign key constraint fails (`MetroDB`.`metro_stations`, CONSTRAINT `metro_stations_ibfk_1` FOREIGN KEY (`line_id`) REFERENCES `metro_lines` (`line_id`))\nsql: INSERT INTO metro_stations (line_id, station_code, station_name, display_name, location,\n                                        transports, services, accessibility, commerce, amenities, image_url, access_details)\n               VALUES (?, ?, ?, ?, POINT(0...\n    at module.exports.createError (/app/node_modules/mariadb/lib/misc/errors.js:66:10)\n    at PacketNodeEncoded.readError (/app/node_modules/mariadb/lib/io/packet.js:588:19)\n    at Query.handleErrorPacket (/app/node_modules/mariadb/lib/cmd/parser.js:92:24)\n    at Query.readResponsePacket (/app/node_modules/mariadb/lib/cmd/parser.js:70:21)\n    at PacketInputStream.receivePacketBasic (/app/node_modules/mariadb/lib/io/packet-input-stream.js:85:9)\n    at PacketInputStream.onData (/app/node_modules/mariadb/lib/io/packet-input-stream.js:135:20)\n    at Socket.emit (node:events:518:28)\n    at addChunk (node:internal/streams/readable:561:12)\n    at readableAddChunkPushByteMode (node:internal/streams/readable:512:3)\n    at Readable.push (node:internal/streams/readable:392:5)"
}
[2025-08-14T12:53:35.377Z] ERROR: Error: [AnnouncementManager] Failed to fetch announcement channel: Expected token to be set for this request, but none was present. Announcements will be disabled.
Stack: Error: [AnnouncementManager] Failed to fetch announcement channel: Expected token to be set for this request, but none was present. Announcements will be disabled.
    at Object.error (/app/src/events/logger.js:152:27)
    at AnnouncementManager.initialize (/app/src/core/status/embeds/AnnouncementManager.js:54:20)
    at async AnnouncementHandler.initialize (/app/src/core/status/embeds/AnnouncementHandler.js:174:29)
    at async StatusUpdater.initialize (/app/src/core/status/embeds/StatusUpdater.js:140:13)
    at async MetroCore.initialize (/app/src/core/metro/core/MetroCore.js:233:13)
    at async /app/src/core/metro/core/MetroCore.js:165:13
    at async /app/src/index.js:182:23
Metadata: {}

[2025-08-14T12:53:35.379Z] ERROR: Error: [EmbedManager] Channel fetch failed
Stack: Error: [EmbedManager] Channel fetch failed
    at Object.error (/app/src/events/logger.js:152:27)
    at EmbedManager._fetchEmbedChannel (/app/src/core/status/embeds/EmbedManager.js:278:20)
    at async EmbedManager.cacheEmbedMessages (/app/src/core/status/embeds/EmbedManager.js:64:29)
    at async StatusUpdater.initialize (/app/src/core/status/embeds/StatusUpdater.js:141:13)
    at async MetroCore.initialize (/app/src/core/metro/core/MetroCore.js:233:13)
    at async /app/src/core/metro/core/MetroCore.js:165:13
    at async /app/src/index.js:182:23
Metadata: {}

[2025-08-14T12:53:35.380Z] ERROR: Error: [EmbedManager] Failed to cache embeds
Stack: Error: [EmbedManager] Failed to cache embeds
    at Object.fatal (/app/src/events/logger.js:165:27)
    at EmbedManager.cacheEmbedMessages (/app/src/core/status/embeds/EmbedManager.js:87:20)
    at async StatusUpdater.initialize (/app/src/core/status/embeds/StatusUpdater.js:141:13)
    at async MetroCore.initialize (/app/src/core/metro/core/MetroCore.js:233:13)
    at async /app/src/core/metro/core/MetroCore.js:165:13
    at async /app/src/index.js:182:23
Metadata: {}

[2025-08-14T12:53:35.381Z] ERROR: Error: [StatusUpdater] Initialization failed
Stack: Error: [StatusUpdater] Initialization failed
    at Object.fatal (/app/src/events/logger.js:165:27)
    at StatusUpdater.initialize (/app/src/core/status/embeds/StatusUpdater.js:148:20)
    at async MetroCore.initialize (/app/src/core/metro/core/MetroCore.js:233:13)
    at async /app/src/core/metro/core/MetroCore.js:165:13
    at async /app/src/index.js:182:23
Metadata: {
  "error": "❌ Error al obtener canal de Discord",
  "stack": "Error: ❌ Error al obtener canal de Discord\n    at EmbedManager._fetchEmbedChannel (/app/src/core/status/embeds/EmbedManager.js:279:19)\n    at async EmbedManager.cacheEmbedMessages (/app/src/core/status/embeds/EmbedManager.js:64:29)\n    at async StatusUpdater.initialize (/app/src/core/status/embeds/StatusUpdater.js:141:13)\n    at async MetroCore.initialize (/app/src/core/metro/core/MetroCore.js:233:13)\n    at async /app/src/core/metro/core/MetroCore.js:165:13\n    at async /app/src/index.js:182:23"
}
[2025-08-14T18:11:32.971Z] ERROR: Error: [MetroCore] A critical error occurred during initialization:
Stack: Error: [MetroCore] A critical error occurred during initialization:
    at Object.error (/app/src/events/logger.js:152:27)
    at MetroCore.initialize (/app/src/core/metro/core/MetroCore.js:258:20)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async /app/src/core/metro/core/MetroCore.js:170:13
    at async /app/src/index.js:182:23
Metadata: {
  "error": {}
}

[2025-08-14T18:13:14.905Z] ERROR: Error: [MetroCore] A critical error occurred during initialization:
Stack: Error: [MetroCore] A critical error occurred during initialization:
    at Object.error (/app/src/events/logger.js:152:27)
    at MetroCore.initialize (/app/src/core/metro/core/MetroCore.js:258:20)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async /app/src/core/metro/core/MetroCore.js:170:13
    at async /app/src/index.js:182:23
Metadata: {
  "error": {}
}

[2025-08-14T18:17:28.173Z] ERROR: Error: [MetroCore] A critical error occurred during initialization:
Stack: Error: [MetroCore] A critical error occurred during initialization:
    at Object.error (/app/src/events/logger.js:152:27)
    at MetroCore.initialize (/app/src/core/metro/core/MetroCore.js:260:20)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async /app/src/core/metro/core/MetroCore.js:170:13
    at async /app/src/index.js:181:27
Metadata: {
  "error": {}
}

[2025-08-14T18:20:03.624Z] ERROR: Error: [MetroCore] A critical error occurred during initialization:
Stack: Error: [MetroCore] A critical error occurred during initialization:
    at Object.error (/app/src/events/logger.js:152:27)
    at MetroCore.initialize (/app/src/core/metro/core/MetroCore.js:255:20)
    at /app/src/core/metro/core/MetroCore.js:170:28
    at MetroCore.getInstance (/app/src/core/metro/core/MetroCore.js:172:11)
    at main (/app/src/index.js:61:37)
    at Object.<anonymous> (/app/src/index.js:130:1)
    at Module._compile (node:internal/modules/cjs/loader:1730:14)
    at Object..js (node:internal/modules/cjs/loader:1895:10)
    at Module.load (node:internal/modules/cjs/loader:1465:32)
    at Function._load (node:internal/modules/cjs/loader:1282:12)
Metadata: {
  "error": {}
}

[2025-08-14T18:20:03.631Z] ERROR: Error: DatabaseCache initialization failed: DatabaseManager requires a configuration object for the first initialization.
Stack: Error: DatabaseCache initialization failed: DatabaseManager requires a configuration object for the first initialization.
    at Object.error (/app/src/events/logger.js:152:27)
    at DatabaseCache.initialize (/app/src/core/cache/adapters/DatabaseCache.js:22:20)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
Metadata: {}

[2025-08-14T18:20:53.096Z] ERROR: Error: DatabaseCache initialization failed: DatabaseManager requires a configuration object for the first initialization.
Stack: Error: DatabaseCache initialization failed: DatabaseManager requires a configuration object for the first initialization.
    at Object.error (/app/src/events/logger.js:152:27)
    at DatabaseCache.initialize (/app/src/core/cache/adapters/DatabaseCache.js:22:20)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
Metadata: {}

[2025-08-14T18:22:00.193Z] ERROR: Error: DatabaseCache initialization failed: DatabaseManager requires a configuration object for the first initialization.
Stack: Error: DatabaseCache initialization failed: DatabaseManager requires a configuration object for the first initialization.
    at Object.error (/app/src/events/logger.js:152:27)
    at DatabaseCache.initialize (/app/src/core/cache/adapters/DatabaseCache.js:22:20)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
Metadata: {}

[2025-08-14T18:22:22.261Z] ERROR: Error: DatabaseCache initialization failed: DatabaseManager requires a configuration object for the first initialization.
Stack: Error: DatabaseCache initialization failed: DatabaseManager requires a configuration object for the first initialization.
    at Object.error (/app/src/events/logger.js:152:27)
    at DatabaseCache.initialize (/app/src/core/cache/adapters/DatabaseCache.js:22:20)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
Metadata: {}

[2025-08-14T18:23:16.964Z] ERROR: Error: [MetroCore] A critical error occurred during initialization:
Stack: Error: [MetroCore] A critical error occurred during initialization:
    at Object.error (/app/src/events/logger.js:152:27)
    at MetroCore.initialize (/app/src/core/metro/core/MetroCore.js:249:20)
    at async /app/src/core/metro/core/MetroCore.js:170:13
    at async main (/app/src/index.js:30:21)
Metadata: {
  "error": {}
}
[2025-08-15T16:38:48.891Z] ERROR: Error: [MetroCore] A critical error occurred during initialization:
Stack: Error: [MetroCore] A critical error occurred during initialization:
    at Object.error (/app/src/events/logger.js:152:27)
    at MetroCore.initialize (/app/src/core/metro/core/MetroCore.js:236:20)
    at async /app/src/core/metro/core/MetroCore.js:171:13
Metadata: {
  "error": {}
}

[2025-08-15T16:41:51.075Z] ERROR: Error: [SchedulerService] Error in job fetch-network-status:
Stack: Error: [SchedulerService] Error in job fetch-network-status:
    at Object.error (/app/src/events/logger.js:152:27)
    at Timeout._onTimeout (/app/src/core/chronos/SchedulerService.js:25:28)
    at listOnTimeout (node:internal/timers:588:17)
    at process.processTimers (node:internal/timers:523:7)
Metadata: {}

[2025-08-15T16:41:51.087Z] ERROR: Error: [SchedulerService] Error in job check-accessibility:
Stack: Error: [SchedulerService] Error in job check-accessibility:
    at Object.error (/app/src/events/logger.js:152:27)
    at Timeout._onTimeout (/app/src/core/chronos/SchedulerService.js:25:28)
    at listOnTimeout (node:internal/timers:588:17)
    at process.processTimers (node:internal/timers:523:7)
Metadata: {}

[2025-08-15T16:41:51.138Z] ERROR: Error: [SchedulerService] Error in job check-scheduled-overrides:
Stack: Error: [SchedulerService] Error in job check-scheduled-overrides:
    at Object.error (/app/src/events/logger.js:152:27)
    at Timeout._onTimeout (/app/src/core/chronos/SchedulerService.js:25:28)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
Metadata: {}
